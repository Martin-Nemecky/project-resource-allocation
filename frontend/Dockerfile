ARG SERVER_URL=${SERVER_URL}
ARG CLIENT_PORT=${CLIENT_PORT}

FROM node:17-alpine

ARG SERVER_URL
ARG CLIENT_PORT

ENV SERVER_URL=${SERVER_URL}
ENV CLIENT_PORT=${CLIENT_PORT}

WORKDIR /app

COPY package.json .
COPY package-lock.json .

RUN npm install

COPY . .

EXPOSE ${CLIENT_PORT}

CMD ["npm", "start"]